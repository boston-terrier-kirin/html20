<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <script>
      var name = 'global';

      const obj1 = {
        name: 'obj1',
        fun1: function () {
          console.log('💨From obj1.fun1 -----');
          console.log('this', this);
          console.log('this.name', this.name);
        },
      };

      // 左側があるので、thisはobj1になる。
      obj1.fun1();
      console.log('---------------');

      // 左側がないので、thisはwindowになる。
      const fn1 = obj1.fun1;
      fn1();
      console.log('---------------');
    </script>

    <script>
      class Cls1 {
        constructor() {
          this.name = 'John';
        }

        fun2() {
          console.log('💨From Cls1.fun2 -----');
          console.log('this', this);
          console.log('this.name', this.name);
        }
      }

      const cls1 = new Cls1();
      cls1.fun2();
      console.log('---------------');

      // classの場合は、thisがundefinedになってしまう。
      const fun2 = cls1.fun2;
      fun2();
    </script>
  </body>
</html>
