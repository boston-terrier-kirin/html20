<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <script>
      const obj1 = {
        name: 'Kirin',
        fun1: function () {
          console.log('üí®From obj1.fun1 -----');
          console.log('obj1.fun1.this', this); // obj1
          console.log('obj1.fun1.name', this.name);
        },
        fun2: function () {
          console.log('üí®From obj1.fun2 -----');
          setTimeout(function () {
            console.log('obj1.fun2.this', this); // windowÔºöcallback„ÅÆÂ†¥Âêà„ÄÅÂ∑¶ÂÅ¥„Åå„Å™„ÅÑ„ÅÆ„Åßwindow„Å´„Å™„Å£„Å¶„Åó„Åæ„ÅÜ„ÄÇ
            console.log('obj1.fun2.name', this.name);
            console.log('---------------');
          }, 100);
        },
        // arrow
        fun3: () => {
          console.log('üí®From obj1.fun3 -----');
          console.log('obj1.fun3.this', this); // window
          console.log('obj1.fun3.name', this.name);

          // func4/5„ÅÆÊ≥ïÂâá„ÇíÈÅ©Áî®„Åô„Çã„Å®„ÄÅfunc3„Ååwindow„Å´„Å™„Çã„ÅÆ„ÅØ
          // „Çè„Åã„Çâ„Å™„Åè„ÇÇ„Å™„ÅÑ„ÄÇ

          // „Ç¢„É≠„ÉºÈñ¢Êï∞Ëá™Ë∫´„ÅØ this „ÇíÊåÅ„Å°„Åæ„Åõ„Çì„ÄÇ „É¨„Ç≠„Ç∑„Ç´„É´„Çπ„Ç≥„Éº„Éó(where it is written)„ÅÆ this ÂÄ§„Çí‰Ωø„ÅÑ„Åæ„Åô„ÄÇ
          // „Å§„Åæ„Çä„ÄÅ„Ç¢„É≠„ÉºÈñ¢Êï∞ÂÜÖ„ÅÆ this ÂÄ§„ÅØÈÄöÂ∏∏„ÅÆÂ§âÊï∞Ê§úÁ¥¢„É´„Éº„É´„Å´Âæì„ÅÑ„Åæ„Åô„ÄÇ
          // „Åì„ÅÆ„Åü„ÇÅ„Çπ„Ç≥„Éº„Éó„Å´ this ÂÄ§„Åå„Å™„ÅÑÂ†¥Âêà„ÄÅ„Åù„ÅÆ‰∏Ä„Å§Â§ñÂÅ¥„ÅÆ„Çπ„Ç≥„Éº„Éó„Åß this ÂÄ§„ÇíÊé¢„Åó„Åæ„Åô„ÄÇ
        },
        // function + arrow
        fun4: function () {
          console.log('üí®From obj1.fun4 -----');
          console.log('obj1.fun4.this‚òÖ', this);

          setTimeout(() => {
            // „Åì„ÅÆarrow„ÅØ„ÄÅfunction„ÅÆ‰∏≠„Å´„ÅÑ„Çã„ÄÇfunction„ÅÆ‰∏≠„Åß„ÅØthis„ÅØobj„ÄÇ
            console.log('obj1.fun4.this', this); // obj1Ôºö‚òÖÊôÇÁÇπ„ÅÆthis„Å´„Å™„Çã„ÄÇfun4: function„Å´„Åó„Å¶„ÅÑ„Çã„ÅÆ„Åß„ÄÅthis„ÅØobj„Å´„Å™„Çã„ÄÇ
            console.log('obj1.fun4.name', this.name);
            console.log('---------------');
          }, 100);
        },
        // arrow + arrow
        fun5: () => {
          console.log('üí®From obj1.fun5 -----');
          console.log('obj1.fun5.this‚òÖ', this);

          setTimeout(() => {
            // „Åì„ÅÆarrow„ÅØ„ÄÅarrow„ÅÆ‰∏≠„Å´„ÅÑ„Çã„ÄÇarrow„ÅÆ‰∏≠„Åß„ÅØthis„ÅØwindow„ÄÇ
            console.log('obj1.fun5.this', this); // windowÔºö‚òÖÊôÇÁÇπ„ÅÆthis„Å´„Å™„Çã„ÄÇfun4: ()=>„Å´„Åó„Å¶„ÅÑ„Çã„ÅÆ„Åß„ÄÅthis„ÅØwindow„Å´„Å™„Çã„ÄÇ
            console.log('obj1.fun5.name', this.name);
            console.log('---------------');
          }, 100);
        },
      };

      obj1.fun1();
      obj1.fun2();
      obj1.fun3();
      obj1.fun4();
      obj1.fun5();
    </script>
  </body>
</html>
